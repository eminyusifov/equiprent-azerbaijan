import { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\nimport { resolve } from 'path';\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  \n  // Алиасы для импортов\n  resolve: {\n    alias: {\n      '@': resolve(__dirname, 'src'),\n      '@components': resolve(__dirname, 'src/components'),\n      '@pages': resolve(__dirname, 'src/pages'),\n      '@hooks': resolve(__dirname, 'src/hooks'),\n      '@utils': resolve(__dirname, 'src/utils'),\n      '@types': resolve(__dirname, 'src/types'),\n      '@services': resolve(__dirname, 'src/services'),\n      '@contexts': resolve(__dirname, 'src/contexts'),\n    },\n  },\n\n  // Оптимизация зависимостей\n  optimizeDeps: {\n    include: [\n      'react',\n      'react-dom',\n      'react-router-dom',\n      '@tanstack/react-query',\n      'react-hook-form',\n      '@hookform/resolvers',\n      'zod'\n    ],\n    exclude: ['lucide-react'],\n  },\n\n  // Настройки сборки\n  build: {\n    target: 'esnext',\n    minify: 'esbuild',\n    sourcemap: false,\n    rollupOptions: {\n      output: {\n        manualChunks: {\n          // Разделение vendor кода\n          react: ['react', 'react-dom'],\n          router: ['react-router-dom'],\n          forms: ['react-hook-form', '@hookform/resolvers', 'zod'],\n          query: ['@tanstack/react-query'],\n          ui: ['lucide-react'],\n          supabase: ['@supabase/supabase-js'],\n        },\n      },\n    },\n    chunkSizeWarningLimit: 1000,\n  },\n\n  // Настройки сервера разработки\n  server: {\n    port: 5173,\n    host: true,\n    open: true,\n  },\n\n  // Настройки preview\n  preview: {\n    port: 4173,\n    host: true,\n  },\n\n  // Environment variables\n  define: {\n    __APP_VERSION__: JSON.stringify(process.env.npm_package_version),\n  },\n});\n